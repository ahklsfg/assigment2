OPERATING SYSTEMS ASSIGNMENT 2 - ANSWERS

QUESTION: What is the job of the Linker?

The Linker  is a program that combines one or more 
object files (.o files) generated by a compiler into a single executable file.

Key responsibilities of the Linker:

1. SYMBOL RESOLUTION:
   - Resolves references between different object files
   - Matches function calls to their definitions
   - Connects external variable references to their declarations

2. RELOCATION:
   - Assigns final memory addresses to program segments
   - Adjusts code and data to reflect actual memory locations
   - Updates all references to use absolute or relative addresses

3. LIBRARY LINKING:
   - Links with static libraries (.a files in Linux)
   - Includes necessary library functions in the executable
   - Can perform static linking (includes library code) or 
     dynamic linking (references shared libraries)

4. CREATES EXECUTABLE:
   - Combines code sections (.text) from all object files
   - Combines data sections (.data, .bss)
   - Creates symbol tables and debugging information
   - Generates final executable in proper format (ELF on Linux)

Example:
If file1.o calls a function defined in file2.o, the linker resolves
this reference and creates a single executable where the call correctly
points to the function's location.



QUESTION: What is the job of the Loader?

The Loader is a part of the operating system that loads programs from 
secondary storage (disk) into main memory (RAM) for execution.

Key responsibilities of the Loader:

1. ALLOCATION:
   - Allocates memory space for the program
   - Determines where in RAM the program will be loaded
   - Allocates space for code, data, stack, and heap

2. LOADING:
   - Reads the executable file from disk
   - Copies program code and data into allocated memory
   - Initializes the stack and heap regions

3. RELOCATION (Dynamic):
   - Adjusts addresses if program is loaded at different location
   - Updates position-dependent code to work at actual load address
   - Handles Position Independent Code (PIC) if present

4. LINKING (Dynamic):
   - Links with shared libraries (.so files in Linux)
   - Resolves references to dynamic library functions at runtime
   - Loads required shared libraries into memory

5. INITIALIZATION:
   - Sets up program's execution environment
   - Initializes registers and program counter
   - Passes command-line arguments and environment variables
   - Transfers control to program's entry point (usually main)

Example:
When you run "./program" in terminal, the loader:
1. Reads the 'program' file from disk
2. Allocates memory for it
3. Loads it into RAM
4. Links any shared libraries (like libc.so)
5. Starts execution

The loader is invoked automatically by the OS when you execute a program.

SUMMARY OF DIFFERENCES:
LINKER:
- Works at compile/build time
- Combines object files
- Creates executable file on disk
- Resolves symbolic references
- Performed once during build

LOADER:
- Works at run time
- Loads executable into memory
- Prepares program for execution
- Handles dynamic linking
- Performed every time program runs
